CREATE TABLE company_tb (
company_name 	VARCHAR(20) 	NOT NULL,
company_phone 	VARCHAR(20) 	NOT NULL,
company_address 	VARCHAR(40) 	NOT NULL,
PRIMARY KEY(company_name)
)

CREATE TABLE admin_tb (
admin_id		VARCHAR(13)	NOT NULL,			
admin_pw	VARCHAR(20)	NOT NULL,
company_name 	VARCHAR(20)	NOT NULL,
PRIMARY KEY(admin_id),
FOREIGN KEY(company_name) REFERENCES company_tb(company_name) ON  DELETE CASCADE
)

CREATE TABLE user_tb (
user_id			VARCHAR(13)	NOT NULL,			
user_pw			VARCHAR(20)	NOT NULL,
user_name		VARCHAR(20)	NOT NULL,
user_address 		VARCHAR(40) 	NOT NULL,
user_address_detail 	VARCHAR(40) 	NOT NULL,
user_resnum_front		VARCHAR(10) 	NOT NULL,
user_resnum_rear		VARCHAR(10) 	NOT NULL,
user_gender		VARCHAR(4) 	NOT NULL,
user_email		VARCHAR(20) 	NOT NULL,
user_phone		VARCHAR(20) 	NOT NULL,
company_name		VARCHAR(20) ,
PRIMARY KEY(user_id),
FOREIGN KEY(company_name) REFERENCES company_tb(company_name) ON  DELETE CASCADE
)



CREATE TABLE contract_tb (
contract_pk		INT		NOT NULL	AUTO_INCREMENT,			
contract_type		VARCHAR(10)	NOT NULL,
user_id			VARCHAR(13)	NOT NULL,
admin_id  		VARCHAR(13) 	NOT NULL,
start_year			VARCHAR(4) 	NOT NULL,
start_month		VARCHAR(2) 	NOT NULL,
start_day			VARCHAR(2)	NOT NULL,
work_place		VARCHAR(50)	NOT NULL,
content			VARCHAR(50)	NOT NULL,
work_per_week		VARCHAR(1) 	,
holiday			VARCHAR(1)	NOT NULL,	
pay_type			VARCHAR(1)	NOT NULL,
pay			VARCHAR(13)	NOT NULL,
bonus			VARCHAR(13)	NOT NULL,
payday			VARCHAR(2)	NOT NULL,
payfor			VARCHAR(1)	NOT NULL,
em_insurance		VARCHAR(1)	,
ac_insurance		VARCHAR(1)	,
pension			VARCHAR(1) 	,
hlt_insurance		VARCHAR(1)	,
canvas			TEXT(65535)	NOT NULL,
contract_year		VARCHAR(4)	NOT NULL,
contract_month		VARCHAR(2)	NOT NULL,
contract_day		VARCHAR(2)	NOT NULL,
admin_name		VARCHAR(7)	NOT NULL,
extra_pay			VARCHAR(3)	,
create_date		DATETIME DEFAULT CURRENT_TIMESTAMP,
modify_date		DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
PRIMARY KEY(contract_pk),
FOREIGN KEY(user_id) REFERENCES user_tb(user_id) ON  DELETE CASCADE,
FOREIGN KEY(admin_id) REFERENCES admin(admin_id) ON  DELETE CASCADE
)


CREATE TABLE work_time_tb(
contract_pk		INT		NOT NULL,		
flag			INT		NOT NULL,
start_hour		VARCHAR(2)	NOT NULL,
start_min			VARCHAR(2)	NOT NULL,
end_hour			VARCHAR(2)	NOT NULL,
end_min			VARCHAR(2)	NOT NULL,
b_start_hour		VARCHAR(2)	NOT NULL,
b_start_min		VARCHAR(2)	NOT NULL,
b_end_hour		VARCHAR(2)	NOT NULL,
b_end_min		VARCHAR(2)	NOT NULL,
work_day			VARCHAR(1)	,
work_time		VARCHAR(2)	,
FOREIGN KEY(contract_pk) REFERENCES contract_tb(contract_pk) ON  DELETE CASCADE
)





CREATE TABLE end_time_tb(
contract_pk 		INT		NOT NULL,
end_year			VARCHAR(4)	NOT NULL,
end_month		VARCHAR(2)	NOT NULL,
end_day			VARCHAR(2)	NOT NULL,
FOREIGN KEY(contract_pk) REFERENCES contract_tb(contract_pk) ON DELETE  CASCADE
)


CREATE TABLE benefit_tb(
contract_pk	INT		NOT NULL,
benefit_1		VARCHAR(14)	,
benefit_2		VARCHAR(14)	,
benefit_3		VARCHAR(14)	,
benefit_4		VARCHAR(14)	,

FOREIGN KEY(contract_pk) REFERENCES contract_tb(contract_pk) ON  DELETE CASCADE
)
